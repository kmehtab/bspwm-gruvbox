(defpoll current-volume :interval "1s" "amixer -D pulse sget Master | grep 'Left:' | awk -F'[][]' '{ print $2 }' | tr -d '%'")
(defwidget volume[]
  (box
    :class "volume"
    :space-evenly false
    (label :text "󰝟"  :class "volume-down")
    (scale
      :class "volume-scale"
      :hexpand true
      :min 0
      :max 101
      :value current-volume
      :onchange "amixer sset Master {}%")
    (label :text "󰕾"  :class "volume-down")))

